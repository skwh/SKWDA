<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script type="text/javascript" src="nodeGraph.js"></script>
        <script type="text/javascript" src="algorithm.js"></script>
        <script type="text/javascript">
			var simpleGraph = new Graph([],[]);
			var simpleGraphicalGraph;
			function runMe() {
				simpleGraph = new Graph([],[]);
				simpleGraphicalGraph;
				for (var i=0;i<6;i++) {
					simpleGraph.nodes.push(new Node(i+1));	
				}
				simpleGraph.edges.push(new Edge(simpleGraph.nodes[0],simpleGraph.nodes[5],14));
				simpleGraph.edges.push(new Edge(simpleGraph.nodes[0],simpleGraph.nodes[2],9));
				simpleGraph.edges.push(new Edge(simpleGraph.nodes[0],simpleGraph.nodes[1],7));
				simpleGraph.edges.push(new Edge(simpleGraph.nodes[1],simpleGraph.nodes[2],10));
				simpleGraph.edges.push(new Edge(simpleGraph.nodes[1],simpleGraph.nodes[3],15));
				simpleGraph.edges.push(new Edge(simpleGraph.nodes[2],simpleGraph.nodes[5],2));
				simpleGraph.edges.push(new Edge(simpleGraph.nodes[2],simpleGraph.nodes[3],11));
				simpleGraph.edges.push(new Edge(simpleGraph.nodes[3],simpleGraph.nodes[4],15));
				simpleGraph.edges.push(new Edge(simpleGraph.nodes[5],simpleGraph.nodes[4],9));
				simpleGraphicalGraph = graphToGraphicalGraph(simpleGraph,document.getElementById('theCanvas'));
				simpleGraphicalGraph.draw(simpleGraphicalGraph.ctxt);
			}
			function pathMe() {
				runMe();
				var node1 = document.getElementById('s1').value;
				var node2 = document.getElementById('s2').value;
				for (var i=0;i<simpleGraph.nodes.length;i++) {
					if (simpleGraph.nodes[i].n == node1) {
						node1 = simpleGraph.nodes[i];	
					} else if (simpleGraph.nodes[i].n == node2) {
						node2 = simpleGraph.nodes[i];
					}
				}
				if (!(node1 instanceof Node) || !(node2 instanceof Node)) {
					alert("Oops! There was a problem.");
					return;	
				}
				var path = pathFinder(node1,node2,simpleGraph);
				console.log(path);
				simpleGraphicalGraph.drawPath(path,simpleGraphicalGraph.ctxt);
			}
			function graphToGraphicalGraph(graph,canvasElement) {
				return new gGraph(graph,canvasElement,canvasElement.getContext('2d'));	
			}
        </script>
	    <title>Maps</title>
    </head>
    <body>
        <div id="main" style="text-align:center;font-family:Arial, Helvetica, sans-serif;width:auto;margin:auto;">
        	<h1 style="text-shadow:black 1 -1px;font-size:26pt;background-color:#EEEEEE">Dijkstra's Algorithm</h1>
            <canvas id="theCanvas" width="600" height="500" style="border:1px solid black">
            	Your browser does not support the canvas element.
            </canvas><br />
            <button onclick="runMe()">Show Graph</button>
            <button onclick="pathMe()">Show Path between:</button><br />
			<select id="s1">
            	<option value="1" selected>Node 1</option>
                <option value="2">Node 2</option>
                <option value="3">Node 3</option>
                <option value="4">Node 4</option>
                <option value="5">Node 5</option>
                <option value="6">Node 6</option>
            </select>
            and
            <select id="s2">
            	<option value="1">Node 1</option>
                <option value="2">Node 2</option>
                <option value="3">Node 3</option>
                <option value="4">Node 4</option>
                <option value="5" selected>Node 5</option>
                <option value="6">Node 6</option>
            </select>
        </div>
    </body>
</html>
